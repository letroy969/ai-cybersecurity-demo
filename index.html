<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Cybersecurity Honeypot - Security Operations Dashboard</title>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0e27;
            color: #e0e0e0;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: radial-gradient(circle at 20% 50%, rgba(255, 107, 0, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(255, 0, 222, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 40% 20%, rgba(0, 246, 255, 0.1) 0%, transparent 50%);
            animation: pulse 15s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 107, 0, 0.2);
            border-radius: 15px;
            padding: 25px 40px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .header-left h1 {
            font-size: 1.8rem;
            background: linear-gradient(135deg, #ff6b00, #ff00de, #00f6ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }

        .header-left .subtitle {
            color: #9ca3af;
            font-size: 0.9rem;
        }

        .header-left .knowledge-badge {
            display: inline-block;
            background: rgba(66, 133, 244, 0.2);
            border: 1px solid rgba(66, 133, 244, 0.5);
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            margin-top: 8px;
            color: #4285f4;
        }

        .status {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #34d399;
            font-size: 0.9rem;
            margin-top: 10px;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            background: #34d399;
            border-radius: 50%;
            animation: blink 2s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .live-indicator {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.5);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            color: #ef4444;
            font-weight: 600;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 107, 0, 0.2);
            border-radius: 12px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
            cursor: pointer;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, #ff6b00, #ff00de, #00f6ff);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: rgba(255, 107, 0, 0.5);
            box-shadow: 0 10px 30px rgba(255, 107, 0, 0.2);
        }

        .stat-card:hover .security-explanation {
            display: block;
        }

        .stat-label {
            color: #9ca3af;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: bold;
            background: linear-gradient(135deg, #ff6b00, #ff00de);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }

        .stat-change {
            font-size: 0.85rem;
            color: #34d399;
        }

        .security-explanation {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.85rem;
            color: #9ca3af;
            line-height: 1.6;
        }

        .security-explanation strong {
            color: #00f6ff;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .main-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 246, 255, 0.2);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .panel-title {
            font-size: 1.2rem;
            color: #00f6ff;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .security-info {
            background: rgba(0, 246, 255, 0.1);
            border-left: 3px solid #00f6ff;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 0.9rem;
            line-height: 1.7;
        }

        .security-info strong {
            color: #00f6ff;
        }

        .attack-map {
            height: 400px;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(10, 14, 39, 0.98) 100%);
            border-radius: 8px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(0, 246, 255, 0.2);
        }
        
        #worldMap {
            width: 100% !important;
            height: 100% !important;
            min-height: 400px !important;
            border-radius: 8px;
            z-index: 1;
            position: relative !important;
        }
        
        /* Custom Leaflet dark theme */
        .leaflet-container {
            background: #0a0e27 !important;
            font-family: inherit !important;
        }
        
        .leaflet-tile-container img {
            filter: brightness(0.5) contrast(1.2) !important;
            opacity: 0.9 !important;
        }
        
        .leaflet-tile-pane {
            opacity: 1 !important;
        }
        
        .leaflet-pane {
            z-index: 1 !important;
        }
        
        .leaflet-map-pane {
            z-index: 1 !important;
        }
        
        .leaflet-control-zoom a {
            background-color: rgba(10, 14, 39, 0.9) !important;
            color: #00f6ff !important;
            border: 1px solid rgba(0, 246, 255, 0.3) !important;
        }
        
        .leaflet-control-zoom a:hover {
            background-color: rgba(0, 246, 255, 0.2) !important;
        }
        
        .leaflet-popup-content-wrapper {
            background: rgba(10, 14, 39, 0.95) !important;
            color: #e0e0e0 !important;
            border: 1px solid rgba(0, 246, 255, 0.3) !important;
        }
        
        .leaflet-popup-tip {
            background: rgba(10, 14, 39, 0.95) !important;
            border: 1px solid rgba(0, 246, 255, 0.3) !important;
        }

        .attack-map::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(255, 107, 0, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 60% 50%, rgba(255, 0, 222, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(0, 246, 255, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: 1;
        }

        .world-map-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.4;
            pointer-events: none;
            z-index: 1;
        }
        
        .continent-label {
            position: absolute;
            color: rgba(0, 246, 255, 0.4);
            font-size: 0.7rem;
            font-weight: 600;
            pointer-events: none;
            z-index: 2;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        @keyframes pulse-marker {
            0%, 100% { 
                opacity: 1; 
                transform: scale(1);
            }
            50% { 
                opacity: 0.6; 
                transform: scale(1.5);
            }
        }
        
        .custom-marker {
            background: transparent !important;
            border: none !important;
        }

        .map-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: 2;
        }
        
        .continent-label {
            position: absolute;
            color: rgba(0, 246, 255, 0.5);
            font-size: 0.75rem;
            font-weight: 600;
            pointer-events: none;
            z-index: 3;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 0 0 10px rgba(0, 246, 255, 0.5);
        }

        .map-point {
            position: absolute !important;
            width: 18px !important;
            height: 18px !important;
            background: #ff6b00 !important;
            border-radius: 50% !important;
            box-shadow: 0 0 25px #ff6b00, 0 0 50px rgba(255, 107, 0, 0.6) !important;
            animation: pulse-point 2s infinite !important;
            cursor: pointer;
            border: 3px solid rgba(255, 255, 255, 1) !important;
            transition: all 0.3s;
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            z-index: 100 !important;
        }

        .map-point::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border-radius: 50%;
            border: 2px solid rgba(255, 107, 0, 0.3);
            animation: ripple 2s infinite;
        }

        @keyframes pulse-point {
            0%, 100% { 
                opacity: 1; 
                transform: scale(1);
            }
            50% { 
                opacity: 0.7; 
                transform: scale(1.3);
            }
        }

        @keyframes ripple {
            0% {
                transform: scale(0.8);
                opacity: 1;
            }
            100% {
                transform: scale(2);
                opacity: 0;
            }
        }

        .map-point:hover {
            transform: scale(2);
            z-index: 10;
            box-shadow: 0 0 30px #ff6b00, 0 0 60px rgba(255, 107, 0, 0.8);
        }

        .map-point.critical {
            background: #ef4444 !important;
            box-shadow: 0 0 25px #ef4444, 0 0 50px rgba(239, 68, 68, 0.6) !important;
            border-color: rgba(255, 255, 255, 1) !important;
        }

        .map-point.high {
            background: #f59e0b !important;
            box-shadow: 0 0 25px #f59e0b, 0 0 50px rgba(245, 158, 11, 0.6) !important;
            border-color: rgba(255, 255, 255, 1) !important;
        }

        .map-point.medium {
            background: #3b82f6 !important;
            box-shadow: 0 0 25px #3b82f6, 0 0 50px rgba(59, 130, 246, 0.6) !important;
            border-color: rgba(255, 255, 255, 1) !important;
        }

        .map-label {
            position: absolute;
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            white-space: nowrap;
            border: 1px solid rgba(255, 107, 0, 0.5);
        }

        .map-point:hover + .map-label,
        .map-label:hover {
            opacity: 1;
        }

        .attack-timeline {
            max-height: 500px;
            overflow-y: auto;
        }

        .timeline-item {
            background: rgba(255, 255, 255, 0.03);
            border-left: 3px solid;
            padding: 15px;
            margin-bottom: 12px;
            border-radius: 0 8px 8px 0;
            animation: slideIn 0.5s ease-out;
            transition: all 0.3s;
            cursor: pointer;
        }

        .timeline-item:hover {
            background: rgba(255, 255, 255, 0.06);
            transform: translateX(5px);
        }

        .timeline-item:hover .attack-details {
            display: block;
        }

        .timeline-item.critical { border-left-color: #ef4444; }
        .timeline-item.high { border-left-color: #f59e0b; }
        .timeline-item.medium { border-left-color: #3b82f6; }
        .timeline-item.low { border-left-color: #10b981; }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .timeline-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .timeline-type {
            font-weight: 600;
            font-size: 1rem;
        }

        .timeline-time {
            color: #00f6ff;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .timeline-details {
            display: flex;
            gap: 15px;
            font-size: 0.85rem;
            color: #9ca3af;
            margin-top: 8px;
            flex-wrap: wrap;
        }

        .timeline-badge {
            background: rgba(255, 107, 0, 0.2);
            border: 1px solid rgba(255, 107, 0, 0.4);
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
        }

        .attack-details {
            display: none;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.85rem;
            line-height: 1.7;
        }

        .attack-details strong {
            color: #00f6ff;
        }

        .attack-types {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .attack-type-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
        }

        .attack-type-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .attack-type-item:hover .attack-explanation {
            display: block;
        }

        .attack-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .attack-info {
            flex: 1;
            min-width: 0;
        }

        .attack-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .attack-count {
            font-size: 0.85rem;
            color: #9ca3af;
        }

        .attack-bar {
            flex: 1;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin: 0 15px;
            min-width: 100px;
        }

        .attack-bar-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 1s ease-out;
        }

        .attack-percentage {
            font-weight: 600;
            min-width: 50px;
            text-align: right;
            flex-shrink: 0;
        }

        .attack-explanation {
            display: none;
            width: 100%;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.8rem;
            color: #9ca3af;
            line-height: 1.6;
        }

        .attack-explanation strong {
            color: #00f6ff;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .threat-level {
            text-align: center;
            padding: 20px;
        }

        .threat-level-value {
            font-size: 3rem;
            font-weight: bold;
            margin: 15px 0;
            background: linear-gradient(135deg, #ef4444, #f59e0b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .threat-level-label {
            color: #9ca3af;
            font-size: 0.9rem;
        }

        .top-attackers {
            max-height: 400px;
            overflow-y: auto;
        }

        .attacker-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
            margin-bottom: 10px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .attacker-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .attacker-ip {
            font-family: 'Courier New', monospace;
            font-weight: 600;
            color: #ff6b00;
        }

        .attacker-count {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.4);
            padding: 5px 12px;
            border-radius: 15px;
            font-weight: 600;
            color: #ef4444;
        }

        .knowledge-section {
            background: rgba(255, 107, 0, 0.1);
            border: 1px solid rgba(255, 107, 0, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin-top: 25px;
        }

        .knowledge-title {
            font-size: 1.3rem;
            color: #ff6b00;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .knowledge-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .knowledge-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(0, 246, 255, 0.2);
            border-radius: 8px;
            padding: 20px;
        }

        .knowledge-card-title {
            color: #00f6ff;
            font-weight: 600;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        .knowledge-list {
            list-style: none;
            line-height: 2;
        }

        .knowledge-list li {
            padding-left: 20px;
            position: relative;
            color: #d1d5db;
            font-size: 0.9rem;
        }

        .knowledge-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #34d399;
            font-weight: bold;
        }

        .footer {
            text-align: center;
            padding: 30px 20px;
            margin-top: 30px;
            border-top: 1px solid rgba(255, 107, 0, 0.2);
            color: #9ca3af;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .footer-link {
            color: #ff6b00;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-link:hover {
            color: #ff00de;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 107, 0, 0.5);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 107, 0, 0.7);
        }

        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="bg-animation"></div>
    
    <div class="container">
        <header>
            <div class="header-left">
                <h1>üõ°Ô∏è AI Cybersecurity Honeypot</h1>
                <div class="subtitle">Educational Security Research Platform</div>
                <div class="knowledge-badge">Cybersecurity Knowledge Platform</div>
                <div class="status">
                    <div class="status-dot"></div>
                    <span>Knowledge-Based Demo ‚Ä¢ <a href="https://github.com/letroy969/AI-Cybersecurity_honeypot" target="_blank" style="color: #00f6ff; text-decoration: underline;">View Actual Honeypot on GitHub</a></span>
                </div>
                <div style="color: #9ca3af; font-size: 0.85rem; margin-top: 8px; line-height: 1.4;">
                    <strong>Note:</strong> This is an interactive cybersecurity knowledge demonstration platform showcasing security concepts and principles. 
                    The actual AI Cybersecurity Honeypot project is not yet deployed but can be viewed on GitHub. 
                    This demo demonstrates cybersecurity expertise through real-time threat visualization, attack analysis, and security operations concepts.
                </div>
            </div>
            <div class="header-right">
                <div class="live-indicator">üî¥ LIVE MONITORING</div>
                <div style="color: #9ca3af; font-size: 0.85rem; margin-top: 5px;" id="currentTime"></div>
            </div>
        </header>

        <!-- Stats with Security Explanations -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Threats Detected</div>
                <div class="stat-value" id="totalThreats">2,847</div>
                <div class="stat-change">‚Üë +15.3% last hour</div>
                <div class="security-explanation">
                    <strong>Detection Method:</strong> Signature-based detection using IDS/IPS rules combined with behavioral analysis. 
                    <strong>Security Control:</strong> Network monitoring, log analysis, and anomaly detection algorithms.
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Active Attack Sources</div>
                <div class="stat-value" id="attackSources">156</div>
                <div class="stat-change">156 unique IPs</div>
                <div class="security-explanation">
                    <strong>Threat Intelligence:</strong> IP reputation databases, geolocation analysis, and threat actor profiling. 
                    <strong>Response:</strong> Automated IP blocking via firewall rules and rate limiting.
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-label">ML Anomalies</div>
                <div class="stat-value" id="anomalies">342</div>
                <div class="stat-change">AI-powered detection</div>
                <div class="security-explanation">
                    <strong>Machine Learning:</strong> Unsupervised anomaly detection using clustering algorithms (K-means, DBSCAN). 
                    <strong>Features:</strong> Network traffic patterns, request frequency, payload analysis, and timing anomalies.
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Blocked Attacks</div>
                <div class="stat-value" id="blocked">2,815</div>
                <div class="stat-change">99.2% success rate</div>
                <div class="security-explanation">
                    <strong>Defense in Depth:</strong> Multiple security layers - WAF, firewall, IDS/IPS, and application-level controls. 
                    <strong>Zero Trust:</strong> Every request is validated regardless of source.
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Response Time</div>
                <div class="stat-value" style="font-size: 1.8rem;">4.2s</div>
                <div class="stat-change">Below threshold</div>
                <div class="security-explanation">
                    <strong>Incident Response:</strong> Automated containment via SOAR playbooks. 
                    <strong>MTTD/MTTR:</strong> Mean Time to Detect (4.2s) and Mean Time to Respond (12.8s) meet SLA requirements.
                </div>
            </div>
        </div>

        <!-- Main Dashboard -->
        <div class="dashboard-grid">
            <div class="main-panel">
                <!-- Attack Map -->
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">üåç Global Attack Map</div>
                        <div style="color: #9ca3af; font-size: 0.85rem;">Real-time threat visualization</div>
                    </div>
                    <div class="attack-map" id="attackMap">
                        <div id="worldMap"></div>
                    </div>
                    <div class="security-info">
                        <strong>Geographic Threat Intelligence:</strong> This map visualizes attack sources using IP geolocation. 
                        Each point represents a unique attacker IP. <strong>Security Application:</strong> Geographic blocking, 
                        threat actor correlation, and DDoS source identification. Used for <strong>threat hunting</strong> and 
                        <strong>incident response</strong> to identify attack patterns and potential APT groups.
                    </div>
                </div>

                <!-- Attack Timeline -->
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">‚ö° Live Attack Feed</div>
                        <div style="color: #9ca3af; font-size: 0.85rem;" id="feedCount">0 attacks</div>
                    </div>
                    <div class="attack-timeline" id="attackTimeline"></div>
                </div>
            </div>

            <div class="sidebar">
                <!-- Threat Level -->
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">‚ö†Ô∏è Threat Level</div>
                    </div>
                    <div class="threat-level">
                        <div class="threat-level-value" id="threatLevel">HIGH</div>
                        <div class="threat-level-label">Elevated activity detected</div>
                    </div>
                    <div class="security-info">
                        <strong>Risk Assessment:</strong> Threat level calculated using CVSS scores, attack frequency, 
                        and potential impact. <strong>Response:</strong> HIGH level triggers enhanced monitoring, 
                        additional security controls, and SOC escalation procedures.
                    </div>
                </div>

                <!-- Attack Types -->
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">üìä Attack Types</div>
                    </div>
                    <div class="attack-types" id="attackTypes"></div>
                </div>

                <!-- Top Attackers -->
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">üéØ Top Attackers</div>
                    </div>
                    <div class="top-attackers" id="topAttackers"></div>
                    <div class="security-info">
                        <strong>Threat Intelligence:</strong> IP addresses are tracked and scored based on attack frequency, 
                        severity, and patterns. <strong>Action:</strong> Persistent attackers are automatically blocked 
                        and added to threat intelligence feeds for <strong>threat sharing</strong> and <strong>collaborative defense</strong>.
                    </div>
                </div>
            </div>
        </div>

        <!-- Cybersecurity Knowledge Section -->
        <div class="knowledge-section">
            <div class="knowledge-title">üéì Cybersecurity Knowledge Demonstrated</div>
            <div class="knowledge-grid">
                <div class="knowledge-card">
                    <div class="knowledge-card-title">üîç Detection & Monitoring</div>
                    <ul class="knowledge-list">
                        <li>SIEM log aggregation and correlation</li>
                        <li>IDS/IPS signature-based detection</li>
                        <li>Behavioral anomaly detection (ML)</li>
                        <li>Real-time threat intelligence feeds</li>
                        <li>Network traffic analysis</li>
                        <li>Security event correlation</li>
                    </ul>
                </div>
                <div class="knowledge-card">
                    <div class="knowledge-card-title">üõ°Ô∏è Defense Strategies</div>
                    <ul class="knowledge-list">
                        <li>Defense in Depth architecture</li>
                        <li>Zero Trust security model</li>
                        <li>WAF (Web Application Firewall)</li>
                        <li>Network segmentation</li>
                        <li>Rate limiting & DDoS protection</li>
                        <li>Automated threat blocking</li>
                    </ul>
                </div>
                <div class="knowledge-card">
                    <div class="knowledge-card-title">‚ö° Incident Response</div>
                    <ul class="knowledge-list">
                        <li>NIST Incident Response lifecycle</li>
                        <li>Automated containment (SOAR)</li>
                        <li>Forensic log analysis</li>
                        <li>Threat containment procedures</li>
                        <li>MTTD/MTTR metrics tracking</li>
                        <li>Post-incident documentation</li>
                    </ul>
                </div>
                <div class="knowledge-card">
                    <div class="knowledge-card-title">ü§ñ AI/ML Security</div>
                    <ul class="knowledge-list">
                        <li>Unsupervised anomaly detection</li>
                        <li>Pattern recognition algorithms</li>
                        <li>Feature engineering for security</li>
                        <li>Model training on attack patterns</li>
                        <li>False positive reduction</li>
                        <li>Adaptive learning systems</li>
                    </ul>
                </div>
                <div class="knowledge-card">
                    <div class="knowledge-card-title">üåê Network Security</div>
                    <ul class="knowledge-list">
                        <li>Firewall rule management</li>
                        <li>IP reputation analysis</li>
                        <li>Geographic threat mapping</li>
                        <li>Traffic flow analysis</li>
                        <li>Protocol inspection</li>
                        <li>Network forensics</li>
                    </ul>
                </div>
                <div class="knowledge-card">
                    <div class="knowledge-card-title">üìã Security Frameworks</div>
                    <ul class="knowledge-list">
                        <li>NIST Cybersecurity Framework</li>
                        <li>MITRE ATT&CK framework</li>
                        <li>OWASP Top 10 awareness</li>
                        <li>CIS Controls implementation</li>
                        <li>ISO 27001 alignment</li>
                        <li>Threat modeling methodologies</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p><strong>AI Cybersecurity Honeypot</strong> - Educational Security Research Platform</p>
            <p style="margin-top: 10px; font-size: 0.9rem;">
                Demonstrating comprehensive cybersecurity knowledge including threat detection, incident response, 
                machine learning security, and security operations best practices.
            </p>
            <div class="footer-links">
                <a href="https://github.com/letroy969/AI-Cybersecurity_honeypot" class="footer-link" target="_blank">GitHub Repository</a>
                <span style="color: #6b7280;">‚Ä¢</span>
                <span style="color: #9ca3af;">Built with FastAPI, Python, Machine Learning, and Security Best Practices</span>
            </div>
        </footer>
    </div>

    <script>
        const attackTypes = [
            { 
                name: 'SQL Injection', 
                count: 678, 
                icon: 'üíâ', 
                color: '#ef4444',
                explanation: 'SQL Injection attacks inject malicious SQL code into database queries. Detection: Input validation, parameterized queries, WAF rules. Defense: Prepared statements, input sanitization, least privilege database access.'
            },
            { 
                name: 'XSS Attack', 
                count: 456, 
                icon: 'üåê', 
                color: '#f59e0b',
                explanation: 'Cross-Site Scripting injects malicious scripts into web pages. Detection: Content Security Policy (CSP) violations, output encoding checks. Defense: Input/output encoding, CSP headers, XSS filters.'
            },
            { 
                name: 'Brute Force', 
                count: 389, 
                icon: 'üî®', 
                color: '#3b82f6',
                explanation: 'Brute force attempts to guess credentials through repeated login attempts. Detection: Failed login rate monitoring, account lockout triggers. Defense: Rate limiting, CAPTCHA, MFA, account lockout policies.'
            },
            { 
                name: 'Malware', 
                count: 234, 
                icon: 'ü¶†', 
                color: '#ec4899',
                explanation: 'Malicious software detection through file scanning and behavioral analysis. Detection: Signature-based AV, sandboxing, behavioral analysis. Defense: Endpoint protection, network segmentation, application whitelisting.'
            },
            { 
                name: 'DDoS', 
                count: 156, 
                icon: '‚ö°', 
                color: '#ef4444',
                explanation: 'Distributed Denial of Service floods systems with traffic. Detection: Traffic volume analysis, rate monitoring. Defense: DDoS mitigation services, rate limiting, traffic filtering, CDN protection.'
            },
            { 
                name: 'Phishing', 
                count: 287, 
                icon: 'üé£', 
                color: '#f97316',
                explanation: 'Social engineering attacks via deceptive emails/messages. Detection: Email filtering, URL reputation checks, user reporting. Defense: Email security gateways, user training, SPF/DKIM/DMARC, link scanning.'
            }
        ];

        const topAttackers = [
            { ip: '192.168.1.45', count: 234 },
            { ip: '10.0.0.123', count: 189 },
            { ip: '172.16.0.89', count: 156 },
            { ip: '203.0.113.12', count: 98 },
            { ip: '198.51.100.67', count: 87 }
        ];

        const attackFeed = [
            { 
                type: 'SQL Injection', 
                ip: '192.168.1.45', 
                time: '14:45:32', 
                severity: 'critical', 
                location: 'US-East',
                details: 'SQL Injection detected via parameter manipulation. Payload: UNION SELECT. Detection: WAF signature match + behavioral anomaly. Response: Request blocked, IP added to blocklist, alert sent to SOC.'
            },
            { 
                type: 'Brute Force', 
                ip: '10.0.0.123', 
                time: '14:44:18', 
                severity: 'high', 
                location: 'EU-West',
                details: 'Brute force attack: 45 failed login attempts in 2 minutes. Detection: Rate limiting threshold exceeded. Response: IP rate-limited, account lockout triggered, MFA challenge required.'
            },
            { 
                type: 'XSS Attack', 
                ip: '172.16.0.89', 
                time: '14:43:05', 
                severity: 'high', 
                location: 'Asia-Pacific',
                details: 'XSS payload detected in form input. Payload: &lt;script&gt;alert()&lt;/script&gt;. Detection: CSP violation + input validation. Response: Request sanitized, malicious content stripped, user notified.'
            },
            { 
                type: 'Malware', 
                ip: '203.0.113.12', 
                time: '14:41:52', 
                severity: 'critical', 
                location: 'US-West',
                details: 'Malware signature detected in uploaded file. Type: Trojan. Detection: AV scan + sandbox analysis. Response: File quarantined, endpoint isolated, forensic analysis initiated.'
            },
            { 
                type: 'DDoS', 
                ip: 'Multiple', 
                time: '14:40:28', 
                severity: 'critical', 
                location: 'Global',
                details: 'DDoS attack: 50,000 requests/second from 1,200 IPs. Detection: Traffic volume spike analysis. Response: DDoS mitigation activated, rate limiting enforced, traffic filtered at edge.'
            },
            { 
                type: 'Phishing', 
                ip: '198.51.100.67', 
                time: '14:39:15', 
                severity: 'medium', 
                location: 'EU-Central',
                details: 'Phishing attempt detected: Suspicious email with malicious link. Detection: Email gateway + URL reputation check. Response: Email quarantined, link blocked, user security alert sent.'
            }
        ];

        const mapPoints = [
            { x: 15, y: 30, ip: '192.168.1.45' },
            { x: 45, y: 25, ip: '10.0.0.123' },
            { x: 70, y: 35, ip: '172.16.0.89' },
            { x: 30, y: 60, ip: '203.0.113.12' },
            { x: 60, y: 55, ip: '198.51.100.67' },
            { x: 20, y: 70, ip: '192.0.2.34' },
            { x: 80, y: 45, ip: '172.16.1.100' }
        ];

        // Mock data generator for demo
        function generateMockIP() {
            const segments = [
                Math.floor(Math.random() * 255),
                Math.floor(Math.random() * 255),
                Math.floor(Math.random() * 255),
                Math.floor(Math.random() * 255)
            ];
            return segments.join('.');
        }

        function generateMockLocation() {
            const locations = [
                'US-East', 'US-West', 'US-Central', 'EU-West', 'EU-Central', 
                'EU-East', 'Asia-Pacific', 'Asia-East', 'Asia-South', 
                'South America', 'Africa', 'Middle East', 'Oceania'
            ];
            return locations[Math.floor(Math.random() * locations.length)];
        }

        function generateMockMapPoint() {
            return {
                x: Math.random() * 80 + 10,
                y: Math.random() * 70 + 15,
                ip: generateMockIP(),
                location: generateMockLocation()
            };
        }

        function init() {
            console.log('üõ°Ô∏è AI Cybersecurity Honeypot Demo Initializing...');
            
            renderAttackMap();
            renderAttackTypes();
            renderTopAttackers();
            renderAttackFeed();
            animateStats();
            updateTime();
            
            // Start demo immediately with mock attacks
            console.log('üöÄ Starting automatic attack simulation...');
            
            // Add first attack immediately
            setTimeout(() => addNewAttack(), 1000);
            
            // Add more attacks quickly for demo effect
            setTimeout(() => {
                for (let i = 0; i < 3; i++) {
                    setTimeout(() => addNewAttack(), i * 1500);
                }
            }, 2000);
            
            // Continue adding attacks every 3-5 seconds for demo
            setInterval(() => {
                addNewAttack();
                console.log('‚ö° New attack generated');
            }, 3000 + Math.random() * 2000);
            
            // Update time every second
            setInterval(updateTime, 1000);
            
            // Add new map points every 4 seconds
            setInterval(() => {
                const newPoint = generateMockMapPoint();
                addMapPoint(newPoint);
                console.log('üìç New map point added:', newPoint.ip);
            }, 4000);
            
            // Update attack type counts every 5 seconds
            setInterval(() => {
                updateAttackTypeCounts();
                console.log('üìä Attack counts updated');
            }, 5000);
            
            console.log('‚úÖ Demo initialized - Attacks will appear automatically');
        }

        // Leaflet map instance
        let worldMap = null;
        let mapMarkers = [];

        function renderAttackMap() {
            const mapContainer = document.getElementById('worldMap');
            if (!mapContainer) {
                console.error('‚ùå World map container not found!');
                return;
            }
            
            // Initialize Leaflet map
            if (!worldMap) {
                // Wait for container to be ready
                setTimeout(() => {
                    try {
                        worldMap = L.map('worldMap', {
                            center: [20, 0],
                            zoom: 2,
                            zoomControl: true,
                            attributionControl: true,
                            scrollWheelZoom: false,
                            doubleClickZoom: false,
                            dragging: false,
                            touchZoom: false
                        });
                        
                        // Use CartoDB Positron tiles (light theme, very reliable)
                        const tileLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
                            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
                            subdomains: 'abcd',
                            maxZoom: 19
                        });
                        
                        tileLayer.addTo(worldMap);
                        
                        // Apply dark theme filter after tiles load
                        tileLayer.on('tileload', function(e) {
                            if (e.tile && e.tile.complete) {
                                e.tile.style.filter = 'brightness(0.2) contrast(1.5) invert(0.95) hue-rotate(180deg)';
                            }
                        });
                        
                        // Force map to invalidate size to ensure tiles render
                        setTimeout(() => {
                            worldMap.invalidateSize();
                        }, 500);
                        
                        console.log('‚úÖ Leaflet world map initialized with OSM tiles');
                        
                        // Add initial points after map loads
                        setTimeout(() => {
                            mapPoints.forEach((point, index) => {
                                setTimeout(() => {
                                    const pointWithLocation = {
                                        ...point,
                                        location: generateMockLocation()
                                    };
                                    addMapPoint(pointWithLocation);
                                }, index * 200);
                            });
                        }, 1000);
                    } catch (error) {
                        console.error('‚ùå Error initializing map:', error);
                    }
                }, 200);
                return;
            }
            
            // Add more points for visual effect
            setTimeout(() => {
                console.log('Adding additional map points...');
                for (let i = 0; i < 8; i++) {
                    setTimeout(() => {
                        const newPoint = generateMockMapPoint();
                        console.log('Adding point', i + 1, ':', newPoint.ip);
                        addMapPoint(newPoint);
                    }, i * 300);
                }
            }, 1500);
        }

        function addMapPoint(point, severity = null) {
            if (!worldMap) {
                console.error('World map not initialized!');
                return;
            }
            
            // Remove old markers if too many
            if (mapMarkers.length > 20) {
                const oldMarker = mapMarkers.shift();
                worldMap.removeLayer(oldMarker);
            }
            
            // Determine severity
            if (!severity) {
                const severities = ['critical', 'high', 'medium'];
                severity = severities[Math.floor(Math.random() * severities.length)];
            }
            
            // Convert x/y percentage to lat/lng
            // x: 0-100% maps to lng: -180 to 180
            // y: 0-100% maps to lat: 90 to -90 (inverted)
            const lng = (point.x / 100) * 360 - 180;
            const lat = 90 - (point.y / 100) * 180;
            
            // Create custom icon based on severity
            const iconColors = {
                critical: '#ef4444',
                high: '#f59e0b',
                medium: '#3b82f6'
            };
            
            const iconSize = severity === 'critical' ? 12 : severity === 'high' ? 10 : 8;
            
            const customIcon = L.divIcon({
                className: 'custom-marker',
                html: `<div style="
                    width: ${iconSize}px;
                    height: ${iconSize}px;
                    background: ${iconColors[severity]};
                    border-radius: 50%;
                    border: 2px solid white;
                    box-shadow: 0 0 15px ${iconColors[severity]}, 0 0 30px rgba(255,255,255,0.3);
                    animation: pulse-marker 2s infinite;
                "></div>`,
                iconSize: [iconSize, iconSize],
                iconAnchor: [iconSize/2, iconSize/2]
            });
            
            // Create marker
            const marker = L.marker([lat, lng], { icon: customIcon }).addTo(worldMap);
            
            // Add popup with attack info
            const location = point.location || generateMockLocation();
            marker.bindPopup(`
                <div style="color: #e0e0e0; font-size: 0.85rem;">
                    <strong style="color: ${iconColors[severity]};">${severity.toUpperCase()}</strong><br>
                    IP: ${point.ip}<br>
                    Location: ${location.city}, ${location.country}<br>
                    Type: ${point.type || 'Unknown'}
                </div>
            `);
            
            mapMarkers.push(marker);
            
            console.log('‚úÖ Map marker added:', point.ip, 'at lat:', lat, 'lng:', lng, 'severity:', severity);
        }

        function renderAttackTypes() {
            updateAttackTypesDisplay();
        }

        function renderTopAttackers() {
            const container = document.getElementById('topAttackers');
            topAttackers.forEach(attacker => {
                const item = document.createElement('div');
                item.className = 'attacker-item';
                item.innerHTML = `
                    <div class="attacker-ip">${attacker.ip}</div>
                    <div class="attacker-count">${attacker.count}</div>
                `;
                container.appendChild(item);
            });
        }

        function renderAttackFeed() {
            const container = document.getElementById('attackTimeline');
            container.innerHTML = '';
            attackFeed.forEach(attack => {
                addAttackToFeed(attack);
            });
            document.getElementById('feedCount').textContent = `${attackFeed.length} attacks`;
        }

        function addAttackToFeed(attack) {
            const container = document.getElementById('attackTimeline');
            const item = document.createElement('div');
            item.className = `timeline-item ${attack.severity}`;
            
            // Escape HTML to prevent script injection
            const escapeHtml = (text) => {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            };
            
            const escapedDetails = escapeHtml(attack.details);
            const escapedType = escapeHtml(attack.type);
            const escapedLocation = escapeHtml(attack.location);
            const escapedIP = escapeHtml(attack.ip);
            
            item.innerHTML = `
                <div class="timeline-header">
                    <div class="timeline-type">${escapedType}</div>
                    <div class="timeline-time">${attack.time}</div>
                </div>
                <div class="timeline-details">
                    <span>üìç ${escapedLocation}</span>
                    <span class="timeline-badge">${escapedIP}</span>
                    <span style="text-transform: uppercase; color: ${attack.severity === 'critical' ? '#ef4444' : attack.severity === 'high' ? '#f59e0b' : '#3b82f6'};">${attack.severity}</span>
                </div>
                <div class="attack-details">
                    <strong>Security Response:</strong> ${escapedDetails}
                </div>
            `;
            container.insertBefore(item, container.firstChild);
        }

        function addNewAttack() {
            const types = attackTypes;
            const severities = ['critical', 'high', 'medium', 'low'];
            const severityWeights = { critical: 0.2, high: 0.3, medium: 0.3, low: 0.2 };
            
            const now = new Date();
            const time = now.toLocaleTimeString('en-US', { hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit' });
            
            // Weighted random selection for more realistic demo
            const randomType = types[Math.floor(Math.random() * types.length)];
            const rand = Math.random();
            let severity = 'medium';
            if (rand < 0.2) severity = 'critical';
            else if (rand < 0.5) severity = 'high';
            else if (rand < 0.8) severity = 'medium';
            else severity = 'low';
            
            const newIP = generateMockIP();
            const newLocation = generateMockLocation();
            
            // Generate realistic attack details based on type
            const attackDetails = generateAttackDetails(randomType, severity, newIP);
            
            const newAttack = {
                type: randomType.name,
                ip: newIP,
                time: time,
                severity: severity,
                location: newLocation,
                details: attackDetails
            };
            
            attackFeed.unshift(newAttack);
            if (attackFeed.length > 20) attackFeed.pop();
            
            // Update attack type count
            randomType.count++;
            
            addAttackToFeed(newAttack);
            document.getElementById('feedCount').textContent = `${attackFeed.length} attacks`;
            updateStats();
            updateAttackTypesDisplay();
            
            // Add map point for this attack with matching severity
            setTimeout(() => {
                const mapPoint = generateMockMapPoint();
                mapPoint.location = newLocation;
                addMapPoint(mapPoint, severity);
            }, 500);
        }

        function generateAttackDetails(attackType, severity, ip) {
            const details = {
                'SQL Injection': [
                    `SQL Injection detected via parameter manipulation. Payload: UNION SELECT * FROM users. Detection: WAF signature match + behavioral anomaly. Response: Request blocked, IP ${ip} added to blocklist, alert sent to SOC.`,
                    `SQL Injection attempt: ' OR '1'='1 detected in login form. Detection: Input validation + SQL pattern matching. Response: Request sanitized, suspicious activity logged, rate limiting applied.`,
                    `Blind SQL Injection detected: Time-based delay observed. Payload: SLEEP(5). Detection: Response time analysis + query monitoring. Response: Connection terminated, IP blocked, forensic analysis initiated.`
                ],
                'XSS Attack': [
                    `XSS payload detected in form input. Payload: &lt;script&gt;alert(document.cookie)&lt;/script&gt;. Detection: CSP violation + input validation. Response: Request sanitized, malicious content stripped, user notified.`,
                    `Stored XSS detected in comment field. Payload: &lt;img src=x onerror=alert(1)&gt;. Detection: Output encoding check + content scanning. Response: Content removed, user account flagged, security review initiated.`,
                    `Reflected XSS in URL parameters detected. Payload: ?search=&lt;svg onload=alert(1)&gt;. Detection: URL parameter analysis + XSS filter. Response: Request blocked, malicious URL logged, user redirected safely.`
                ],
                'Brute Force': [
                    `Brute force attack: ${Math.floor(Math.random() * 50 + 20)} failed login attempts in 2 minutes from ${ip}. Detection: Rate limiting threshold exceeded. Response: IP rate-limited, account lockout triggered, MFA challenge required.`,
                    `Credential stuffing attack detected: ${Math.floor(Math.random() * 100 + 50)} login attempts with known breached credentials. Detection: Credential database comparison + rate analysis. Response: All attempts blocked, accounts secured, breach notification sent.`,
                    `Password spraying attack: Multiple accounts targeted with common passwords. Detection: Failed login pattern analysis. Response: Accounts locked, security alerts sent, password policy review triggered.`
                ],
                'Malware': [
                    `Malware signature detected in uploaded file. Type: Trojan, Hash: ${Math.random().toString(36).substring(7)}. Detection: AV scan + sandbox analysis. Response: File quarantined, endpoint isolated, forensic analysis initiated.`,
                    `Suspicious file behavior detected: ${ip} attempted to execute PowerShell script. Detection: Behavioral analysis + EDR alert. Response: Execution blocked, process terminated, system scan initiated.`,
                    `Malware download attempt blocked: ${ip} tried to download known malicious payload. Detection: URL reputation check + threat intelligence. Response: Download blocked, IP blacklisted, user device scanned.`
                ],
                'DDoS': [
                    `DDoS attack: ${Math.floor(Math.random() * 50000 + 20000)} requests/second from ${Math.floor(Math.random() * 2000 + 500)} IPs. Detection: Traffic volume spike analysis. Response: DDoS mitigation activated, rate limiting enforced, traffic filtered at edge.`,
                    `Application-layer DDoS detected: Slowloris attack from ${Math.floor(Math.random() * 100 + 50)} sources. Detection: Connection pattern analysis. Response: Connection limits applied, suspicious IPs blocked, service protection enabled.`,
                    `Volumetric DDoS: ${Math.floor(Math.random() * 100 + 50)} Gbps traffic spike detected. Detection: Bandwidth monitoring + traffic analysis. Response: Traffic scrubbing activated, legitimate traffic routed, attack mitigated.`
                ],
                'Phishing': [
                    `Phishing attempt detected: Suspicious email with malicious link from ${ip}. Detection: Email gateway + URL reputation check. Response: Email quarantined, link blocked, user security alert sent.`,
                    `Spear phishing campaign detected: Targeted email with credential harvesting page. Detection: Email content analysis + link scanning. Response: Emails blocked, users notified, security awareness training triggered.`,
                    `Phishing site detected: ${ip} hosting fake login page. Detection: Threat intelligence feed + domain analysis. Response: Domain blacklisted, access blocked, law enforcement notified.`
                ]
            };
            
            const typeDetails = details[attackType.name] || [attackType.explanation];
            return typeDetails[Math.floor(Math.random() * typeDetails.length)];
        }

        function updateAttackTypeCounts() {
            // Randomly increment attack counts for demo
            attackTypes.forEach(type => {
                if (Math.random() > 0.7) {
                    type.count += Math.floor(Math.random() * 3);
                }
            });
            updateAttackTypesDisplay();
        }

        function updateAttackTypesDisplay() {
            const container = document.getElementById('attackTypes');
            container.innerHTML = '';
            const total = attackTypes.reduce((sum, item) => sum + item.count, 0);
            
            attackTypes.forEach(type => {
                const percentage = (type.count / total * 100).toFixed(1);
                const item = document.createElement('div');
                item.className = 'attack-type-item';
                item.innerHTML = `
                    <div class="attack-icon" style="background: ${type.color}20; border: 1px solid ${type.color}40;">
                        ${type.icon}
                    </div>
                    <div class="attack-info">
                        <div class="attack-name">${type.name}</div>
                        <div class="attack-count">${type.count} attacks</div>
                        <div class="attack-explanation">
                            <strong>Security Knowledge:</strong> ${type.explanation}
                        </div>
                    </div>
                    <div class="attack-bar">
                        <div class="attack-bar-fill" style="width: ${percentage}%; background: ${type.color};"></div>
                    </div>
                    <div class="attack-percentage" style="color: ${type.color};">${percentage}%</div>
                `;
                container.appendChild(item);
            });
        }

        function animateStats() {
            // Set initial values immediately
            document.getElementById('totalThreats').textContent = '2,847';
            document.getElementById('attackSources').textContent = '156';
            document.getElementById('anomalies').textContent = '342';
            document.getElementById('blocked').textContent = '2,815';
            
            // Then animate from 0 for visual effect
            setTimeout(() => {
                animateValue('totalThreats', 0, 2847, 2000);
                animateValue('attackSources', 0, 156, 2000);
                animateValue('anomalies', 0, 342, 2000);
                animateValue('blocked', 0, 2815, 2000);
            }, 100);
        }

        function updateStats() {
            const threatsEl = document.getElementById('totalThreats');
            const sourcesEl = document.getElementById('attackSources');
            const anomaliesEl = document.getElementById('anomalies');
            const blockedEl = document.getElementById('blocked');
            
            const threats = parseInt(threatsEl.textContent.replace(/,/g, '')) || 2847;
            const sources = parseInt(sourcesEl.textContent.replace(/,/g, '')) || 156;
            const anomalies = parseInt(anomaliesEl.textContent.replace(/,/g, '')) || 342;
            const blocked = parseInt(blockedEl.textContent.replace(/,/g, '')) || 2815;
            
            // Increment stats for demo
            threatsEl.textContent = (threats + 1).toLocaleString();
            
            // Occasionally update other stats
            if (Math.random() > 0.7) {
                sourcesEl.textContent = (sources + (Math.random() > 0.8 ? 1 : 0)).toLocaleString();
            }
            if (Math.random() > 0.8) {
                anomaliesEl.textContent = (anomalies + 1).toLocaleString();
            }
            if (Math.random() > 0.6) {
                blockedEl.textContent = (blocked + 1).toLocaleString();
            }
        }

        function animateValue(id, start, end, duration) {
            const element = document.getElementById(id);
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const value = Math.floor(progress * (end - start) + start);
                element.textContent = value.toLocaleString();
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }

        function updateTime() {
            const now = new Date();
            document.getElementById('currentTime').textContent = now.toLocaleString();
        }

        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
